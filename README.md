# Boat API

## Описание проекта

Проект представляет собой API для моделирования работы весельной лодки (**Rowboat**). API предоставляет методы управления лодкой, включая перемещение, пассажиропоток и смену направления движения.

## Структура проекта

```
boat_api/
│
├── src/
│   ├── models/
│   │   ├── boat.py         # Базовый класс лодки
│   │   ├── rowboat.py      # Класс весельной лодки
│   ├── utils/
│   │   ├── helpers.py      # Вспомогательные функции
│   │   ├── logger.py       # Настройка логирования
│   ├── api/
│   │   ├── main.py         # API для работы с лодкой
│
├── tests/
│   ├── test_api.py         # Тесты для API лодки
│   ├── conftest.py         # Фикстуры для тестов
│
├── reports/                # Папка для Allure отчетов
│
├── requirements.txt        # Список зависимостей
├── README.md               # Описание проекта
└── pyproject.toml          # Конфигурация установки
```

## Установка

### 1. Клонирование репозитория
```sh
https://github.com/Checamaro/boat_api.git
```

### 2. Установка зависимостей
```sh
pip install -r requirements.txt
```

### 3. Запуск API локально
Перейдите в корневую директорию проекта и выполните команду:
```sh
uvicorn src.api.main:app --reload
```

API будет доступен по адресу: **[http://127.0.0.1:8000](http://127.0.0.1:8000)**

Документация API:
- **Swagger UI**: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- **ReDoc**: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

## Запуск тестов

### 1. Запуск автотестов
```sh
pytest tests/ --alluredir=reports/ -s -v
```

### 2. Открытие отчёта Allure
```sh
allure serve reports/
```

---

## Тест-кейсы

### **1. Системные тест-кейсы**

#### **1.1 Тест инициализации лодки**
**Описание**: Проверить, что лодка создаётся с корректными параметрами.

**Шаги:**
1. Создать объект `Rowboat` с заданными параметрами.
2. Проверить, что параметры соответствуют ожидаемым значениям.

**Ожидаемый результат**: Лодка инициализирована с заданными параметрами.

#### **1.2 Тест управления пассажирами**
**Описание**: Проверить добавление и удаление пассажиров.

**Шаги:**
1. Добавить пассажиров до достижения максимальной вместимости.
2. Попытаться добавить ещё одного пассажира.
3. Удалить всех пассажиров.
4. Попытаться удалить пассажира, когда лодка пуста.

**Ожидаемый результат**:
- Пассажиры добавляются и удаляются корректно.
- При попытке добавить пассажира сверх вместимости или удалить последнего пассажира выдаётся ошибка.

---

### **2. Интеграционные тест-кейсы**

#### **2.1 Тест движения весельной лодки**
**Описание**: Проверить перемещение весельной лодки.

**Шаги:**
1. Установить направление движения.
2. Выполнить движение.
3. Проверить координаты лодки.

**Ожидаемый результат**: Лодка перемещается в заданном направлении, координаты изменяются корректно.

---

### **3. Функциональные тест-кейсы**

#### **3.1 Тест смены направления**
**Описание**: Проверить возможность смены направления лодки.

**Шаги:**
1. Установить новое направление.
2. Проверить установленное направление.

**Ожидаемый результат**: Лодка корректно меняет направление движения.

#### **3.2 Тест остановки лодки**
**Описание**: Проверить возможность остановки лодки.

**Шаги:**
1. Начать движение лодки.
2. Остановить лодку.
3. Проверить состояние движения лодки.

**Ожидаемый результат**: Лодка прекращает движение.

